{"version":3,"file":"table.component.js","sourceRoot":"","sources":["../../../../../src/app/dynamicTable/table/table.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { PagerService } from '../paging.service';\n\n@Component({\n  selector: 'app-table',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.css']\n})\nexport class TableComponent implements OnInit {\n\n  @Input() options: any;\n  @Output() changeEvent: EventEmitter<string> = new EventEmitter();\n\n  public Items: any[];\n  public pager: any;\n  public perPageData: number;\n  public searchBy: any;\n  public searchTitle: string;\n  public sortBy: any;\n  public sortingDirection: any;\n  public status: boolean;\n  serchText: string;\n  noRecord: string;\n\n\n  constructor(private pagerService: PagerService) {\n    this.pager = {};\n    this.searchTitle = 'search';\n    this.noRecord = 'no data found';\n    this.status = false;\n\n  }\n  ngOnInit() {\n    if (this.options.searchData.noRecord) {\n\n      this.noRecord = this.options.searchData.noRecord;\n    }\n\n    this.perPageData = this.options.pagination.showEntries[0];\n    this.setPage(1);\n    if (this.options.searchData.searchTitle) {\n      this.searchTitle = this.options.searchData.searchTitle;\n    }\n\n    const defautSearchBy: any = [];\n    for (const obj of this.options.tableData) {\n      Object.keys(obj).forEach(data => {\n        if (defautSearchBy.indexOf(data) === -1) {\n          defautSearchBy.push(data);\n        }\n\n\n      });\n    }\n    this.searchBy = defautSearchBy;\n\n    for (const object of this.options.headerData) {\n      if (object.defaultSorting && object.isSorting) {\n        this.isSorting(object);\n        return true;\n      }\n    }\n  }\n public setPage(page: number) {\n\n    if (page < 1 || page > this.pager.totalPages) {\n      return;\n    }\n\n    this.pager = this.pagerService.getPager(this.options.tableData.length, page, this.perPageData);\n\n    if (this.options.pagination.isPagination) {\n\n      this.Items = this.options.tableData.slice(this.pager.startIndex, this.pager.endIndex + 1);\n    } else {\n      this.Items = this.options.tableData;\n    }\n\n  }\n\n  public isSorting(columnData: any): void {\n\n    if (columnData.isSorting) {\n\n      this.status = !this.status;\n      this.sortingDirection = this.status ? 1 : -1;\n      this.sortBy = columnData.sortBy;\n\n    }\n  }\n\n  public searchItem(): void {\n    if (this.options.searchData.searchBy) {\n      this.searchBy = this.options.searchData.searchBy;\n    }\n  }\n\n  public tableRowValue(rowValue: any): void {\n    this.changeEvent.emit(rowValue);\n  }\n\n  public changeEntry(event: any): void {\n    this.perPageData = parseInt(event.target.value, 0);\n    this.setPage(1);\n  }\n\n  public checkNoRecord(data: any): boolean {\n    if (data.length === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n"]}